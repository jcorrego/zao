
if(typeof Object.create!=="function"){Object.create=function(b){function a(){}a.prototype=b;return new a()}}(function(c,b,a,d){var e={init:function(g,h){var f=this;var j;f.elem=h;f.$elem=c(h);f.options=c.extend({},c.fn.ezPlus.options,f.responsiveConfig(g||{}));f.imageSrc=f.$elem.data(f.options.attrImageZoomSrc)?f.$elem.data(f.options.attrImageZoomSrc):f.$elem.attr("src");if(!f.options.enabled){return}if(f.options.tint){f.options.lensColour="transparent";f.options.lensOpacity="1"}if(f.options.zoomType==="inner"){f.options.showLens=false}if(f.options.zoomType==="lens"){f.options.zoomWindowWidth=0}if(f.options.zoomId===-1){f.options.zoomId=i()}f.$elem.parent().removeAttr("title").removeAttr("alt");f.zoomImage=f.imageSrc;f.refresh(1);if(f.options.loadingIcon&&!f.spinner){f.spinner=c('<div class="sviLoader" style="position: absolute; left: 0; top:0px"></div>');f.$elem.after(f.spinner);c("div#woosvimain .swiper-slide-active img, div#woosvimain>img").fadeTo("fast",0.5);f.spinner.show()}else{if(f.spinner){f.spinner.show()}}j=c(f.options.gallery?("#"+f.options.gallery):f.options.gallerySelector);j.on("click.zoom",f.options.galleryItem,function(k){if(f.options.galleryActiveClass){c(f.options.galleryItem,j).removeClass(f.options.galleryActiveClass);c(this).addClass(f.options.galleryActiveClass)}if(this.tagName==="A"){k.preventDefault()}if(c(this).data(f.options.attrImageZoomSrc)){f.zoomImagePre=c(this).data(f.options.attrImageZoomSrc)}else{f.zoomImagePre=c(this).data("image")}f.swaptheimage(c(this).data("image"),f.zoomImagePre);if(this.tagName==="A"){return false}});function i(){var l=new Date().getTime();var k="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var m=(l+Math.random()*16)%16|0;l=Math.floor(l/16);return(n=="x"?m:(m&3|8)).toString(16)});return k}},refresh:function(g){var f=this;setTimeout(function(){f.fetch(f.imageSrc,f.$elem,f.options.minZoomLevel)},g||f.options.refresh)},fetch:function(i,g,j){var f=this;var h=new Image();h.onload=function(){if(h.width/g.width()<=j){f.largeWidth=g.width()*j}else{f.largeWidth=h.width}if(h.height/g.height()<=j){f.largeHeight=g.height()*j}else{f.largeHeight=h.height}f.startZoom();f.currentImage=f.imageSrc;f.options.onZoomedImageLoaded(f.$elem);if(f.options.loadingIcon&&!!f.spinner&&!!f.spinner.length){c("div#woosvimain .swiper-slide-active img, div#woosvimain>img").fadeTo("fast",1,function(){f.spinner.remove()})}};f.setImageSource(h,i);return},setImageSource:function(f,g){f.src=g},startZoom:function(){var h=this;h.nzWidth=h.$elem.width();h.nzHeight=h.$elem.height();h.isWindowActive=false;h.isLensActive=false;h.isTintActive=false;h.overWindow=false;if(h.options.imageCrossfade){h.zoomWrap=h.$elem.wrap('<div style="height:'+h.nzHeight+"px;width:"+h.nzWidth+'px;" class="zoomWrapper" />');h.$elem.css("position","absolute")}h.zoomLock=1;h.scrollingLock=false;h.changeBgSize=false;h.currentZoomLevel=h.options.zoomLevel;h.updateOffset(h);h.widthRatio=(h.largeWidth/h.currentZoomLevel)/h.nzWidth;h.heightRatio=(h.largeHeight/h.currentZoomLevel)/h.nzHeight;function g(){return"display: none;position: absolute;float: left;height: "+String(h.options.zoomWindowHeight)+"px;width: "+String(h.options.zoomWindowWidth)+"px;text-align: center;border: "+String(h.options.borderSize)+"px solid "+h.options.borderColour+";background-size: "+h.largeWidth/h.currentZoomLevel+"px "+h.largeHeight/h.currentZoomLevel+"px;background-position: 0px 0px;background-repeat: no-repeat;background-color: "+String(h.options.zoomWindowBgColour)+";overflow: hidden;z-index: 100;"}if(h.options.zoomType==="window"){h.zoomWindowStyle=g()}function f(){var m=h.$elem.css("border-left-width");return"display: none;position: absolute;float: left;height: "+String(h.nzHeight)+"px;width: "+String(h.nzWidth)+"px;margin-top: "+String(m)+";margin-left: "+String(m)+";border: "+String(h.options.borderSize)+"px solid "+h.options.borderColour+";background-position: 0px 0px;background-repeat: no-repeat;cursor:"+(h.options.cursor)+";overflow: hidden;zindex: "+h.options.zIndex+";"}if(h.options.zoomType==="inner"){h.zoomWindowStyle=f()}function k(){if(h.nzHeight<h.options.zoomWindowHeight/h.heightRatio){h.lensHeight=h.nzHeight}else{h.lensHeight=String(h.options.zoomWindowHeight/h.heightRatio)}if(h.largeWidth<h.options.zoomWindowWidth){h.lensWidth=h.nzWidth}else{h.lensWidth=String(h.options.zoomWindowWidth/h.widthRatio)}return"display: none;position: absolute;float: right;height: "+h.lensHeight+"px;width: "+h.lensWidth+"px;border: "+(h.options.lensBorderSize)+"px solid "+(h.options.lensBorderColour)+";background-position: 0px 0px;background-repeat: no-repeat;background-color: "+(h.options.lensColour)+";opacity: "+(h.options.lensOpacity)+";filter: alpha(opacity = "+(h.options.lensOpacity*100)+");zoom: 1;cursor:"+(h.options.cursor)+";z-index: 999;overflow: hidden;"}if(h.options.zoomType==="window"){h.lensStyle=k()}h.tintStyle="display: block;position: absolute;height: "+h.nzHeight+"px;width: "+h.nzWidth+"px;background-color: "+h.options.tintColour+";filter: alpha(opacity=0);opacity: 0;";h.lensRound="";if(h.options.zoomType==="lens"){h.lensStyle="display: none;position: absolute;float: left;height:"+String(h.options.lensSize)+"px;width:"+String(h.options.lensSize)+"px;border: "+String(h.options.borderSize)+"px solid "+h.options.borderColour+";background-position: 0px 0px;background-repeat: no-repeat;background-color: "+h.options.lensColour+";cursor:"+(h.options.cursor)+";"}if(h.options.lensShape==="round"){h.lensRound="border-radius: "+String(h.options.lensSize/2+h.options.borderSize)+"px;"}h.zoomContainer=c('<div class="'+h.options.container+'" uuid="'+h.options.zoomId+'"style="position: absolute;top: '+h.nzOffset.top+"px;left: "+h.nzOffset.left+"px;height: "+h.nzHeight+"px;width: "+h.nzWidth+"px;z-index: "+h.options.zIndex+'"></div>');if(h.$elem.attr("id")){h.zoomContainer.attr("id",h.$elem.attr("id")+"-"+h.options.container)}c(h.options.zoomContainerAppendTo).append(h.zoomContainer);if(h.options.containLensZoom&&h.options.zoomType==="lens"){h.zoomContainer.css("overflow","hidden")}if(h.options.zoomType!=="inner"){h.zoomLens=c('<div class="zoomLens" style="'+h.lensStyle+h.lensRound+'">&nbsp;</div>').appendTo(h.zoomContainer).click(function(){h.$elem.trigger("click")});if(h.options.tint){h.tintContainer=c("<div/>").addClass("tintContainer");h.zoomTint=c('<div class="zoomTint" style="'+h.tintStyle+'"></div>');h.zoomLens.wrap(h.tintContainer);h.zoomTintcss=h.zoomLens.after(h.zoomTint);h.zoomTintImage=c('<img style="position: absolute;top: 0px;left: 0px;height: '+h.nzHeight+'px;" width: '+h.nzWidth+'px; max-width: none; src="'+h.$elem.attr("src")+'">').appendTo(h.zoomLens).click(function(){h.$elem.trigger("click")})}}var i=isNaN(h.options.zoomWindowPosition)?"body":h.zoomContainer;h.zoomWindow=c('<div style="z-index: 999;top: '+(h.windowOffsetTop)+"px;left: "+(h.windowOffsetLeft)+"px;"+h.zoomWindowStyle+'" class="zoomWindow">&nbsp;</div>').appendTo(i).click(function(){h.$elem.trigger("click")});h.zoomWindowContainer=c("<div/>").addClass("zoomWindowContainer").css("width",h.options.zoomWindowWidth);h.zoomWindow.wrap(h.zoomWindowContainer);if(h.options.zoomType==="lens"){h.zoomLens.css("background-image",'url("'+h.imageSrc+'")')}if(h.options.zoomType==="window"){h.zoomWindow.css("background-image",'url("'+h.imageSrc+'")')}if(h.options.zoomType==="inner"){h.zoomWindow.css("background-image",'url("'+h.imageSrc+'")')}if(h.options.touchEnabled){h.$elem.bind("touchmove.ezpspace",function(m){m.preventDefault();var n=m.originalEvent.touches[0]||m.originalEvent.changedTouches[0];h.setPosition(n)});h.zoomContainer.bind("touchmove.ezpspace",function(m){h.setElements("show");m.preventDefault();var n=m.originalEvent.touches[0]||m.originalEvent.changedTouches[0];h.setPosition(n)});h.zoomContainer.bind("touchend.ezpspace",function(m){h.showHideWindow("hide");if(h.options.showLens){h.showHideLens("hide")}if(h.options.tint&&h.options.zoomType!=="inner"){h.showHideTint("hide")}});h.$elem.bind("touchend.ezpspace",function(m){h.showHideWindow("hide");if(h.options.showLens){h.showHideLens("hide")}if(h.options.tint&&h.options.zoomType!=="inner"){h.showHideTint("hide")}});if(h.options.showLens){h.zoomLens.bind("touchmove.ezpspace",function(m){m.preventDefault();var n=m.originalEvent.touches[0]||m.originalEvent.changedTouches[0];h.setPosition(n)});h.zoomLens.bind("touchend.ezpspace",function(m){h.showHideWindow("hide");if(h.options.showLens){h.showHideLens("hide")}if(h.options.tint&&h.options.zoomType!=="inner"){h.showHideTint("hide")}})}}h.$elem.bind("mousemove.ezpspace",function(m){if(h.overWindow===false){h.setElements("show")}if(h.lastX!==m.clientX||h.lastY!==m.clientY){h.setPosition(m);h.currentLoc=m}h.lastX=m.clientX;h.lastY=m.clientY});h.zoomContainer.bind("click.ezpspace touchstart.ezpspace",h.options.onImageClick);h.zoomContainer.bind("mousemove.ezpspace",function(m){if(h.overWindow===false){h.setElements("show")}l(m)});function l(m){if(h.lastX!==m.clientX||h.lastY!==m.clientY){h.setPosition(m);h.currentLoc=m}h.lastX=m.clientX;h.lastY=m.clientY}var j=null;if(h.options.zoomType!=="inner"){j=h.zoomLens}if(h.options.tint&&h.options.zoomType!=="inner"){j=h.zoomTint}if(h.options.zoomType==="inner"){j=h.zoomWindow}if(j){j.bind("mousemove.ezpspace",l)}h.zoomContainer.add(h.$elem).mouseenter(function(){if(h.overWindow===false){h.setElements("show")}}).mouseleave(function(){if(!h.scrollLock){h.setElements("hide");h.options.onDestroy(h.$elem)}});if(h.options.zoomType!=="inner"){h.zoomWindow.mouseenter(function(){h.overWindow=true;h.setElements("hide")}).mouseleave(function(){h.overWindow=false})}if(h.options.minZoomLevel){h.minZoomLevel=h.options.minZoomLevel}else{h.minZoomLevel=h.options.scrollZoomIncrement*2}if(h.options.scrollZoom){h.zoomContainer.add(h.$elem).bind("wheel DOMMouseScroll MozMousePixelScroll",function(m){h.scrollLock=true;clearTimeout(c.data(this,"timer"));c.data(this,"timer",setTimeout(function(){h.scrollLock=false},250));var o=m.originalEvent.deltaY||m.originalEvent.detail*-1;m.stopImmediatePropagation();m.stopPropagation();m.preventDefault();if(o==0){return false}if(o/120>0){var n=parseFloat(h.currentZoomLevel)-h.options.scrollZoomIncrement;if(n>=parseFloat(h.minZoomLevel)){h.changeZoomLevel(n)}}else{if((!h.fullheight&&!h.fullwidth)||!h.options.mantainZoomAspectRatio){var n=parseFloat(h.currentZoomLevel)+h.options.scrollZoomIncrement;if(h.options.maxZoomLevel){if(n<=h.options.maxZoomLevel){h.changeZoomLevel(n)}}else{h.changeZoomLevel(n)}}}return false})}},destroy:function(){var f=this;f.$elem.unbind("ezpspace");c(f.zoomContainer).remove();if(f.options.loadingIcon&&!!f.spinner&&!!f.spinner.length){f.spinner.remove();delete f.spinner}},getIdentifier:function(){var f=this;return f.options.zoomId},setElements:function(g){var f=this;if(!f.options.zoomEnabled){return false}if(g==="show"){if(f.isWindowSet){if(f.options.zoomType==="inner"){f.showHideWindow("show")}if(f.options.zoomType==="window"){f.showHideWindow("show")}if(f.options.showLens){f.showHideLens("show")}if(f.options.tint&&f.options.zoomType!=="inner"){f.showHideTint("show")}}}if(g==="hide"){if(f.options.zoomType==="window"){f.showHideWindow("hide")}if(!f.options.tint){f.showHideWindow("hide")}if(f.options.showLens){f.showHideLens("hide")}if(f.options.tint){f.showHideTint("hide")}}},setPosition:function(j){var g=this;if(!g.options.zoomEnabled){return false}g.nzHeight=g.$elem.height();g.nzWidth=g.$elem.width();g.updateOffset(g);if(g.options.tint&&g.options.zoomType!=="inner"){g.zoomTint.css({top:0,left:0})}if(g.options.responsive&&!g.options.scrollZoom){if(g.options.showLens){var h,k;if(g.nzHeight<g.options.zoomWindowWidth/g.widthRatio){g.lensHeight=g.nzHeight}else{g.lensHeight=String((g.options.zoomWindowHeight/g.heightRatio))}if(g.largeWidth<g.options.zoomWindowWidth){g.lensWidth=g.nzWidth}else{g.lensWidth=(g.options.zoomWindowWidth/g.widthRatio)}g.widthRatio=g.largeWidth/g.nzWidth;g.heightRatio=g.largeHeight/g.nzHeight;if(g.options.zoomType!=="lens"){if(g.nzHeight<g.options.zoomWindowWidth/g.widthRatio){g.lensHeight=g.nzHeight}else{g.lensHeight=String((g.options.zoomWindowHeight/g.heightRatio))}if(g.nzWidth<g.options.zoomWindowHeight/g.heightRatio){g.lensWidth=g.nzWidth}else{g.lensWidth=String((g.options.zoomWindowWidth/g.widthRatio))}g.zoomLens.css({width:g.lensWidth,height:g.lensHeight});if(g.options.tint){g.zoomTintImage.css({width:g.nzWidth,height:g.nzHeight})}}if(g.options.zoomType==="lens"){g.zoomLens.css({width:String(g.options.lensSize)+"px",height:String(g.options.lensSize)+"px"})}}}g.zoomContainer.css({top:g.nzOffset.top,left:g.nzOffset.left,width:g.nzWidth,height:g.nzHeight});g.mouseLeft=parseInt(j.pageX-g.nzOffset.left);g.mouseTop=parseInt(j.pageY-g.nzOffset.top);if(g.options.zoomType==="window"){var f=g.zoomLens.height()/2;var i=g.zoomLens.width()/2;g.Etoppos=(g.mouseTop<0+f);g.Eboppos=(g.mouseTop>g.nzHeight-f-(g.options.lensBorderSize*2));g.Eloppos=(g.mouseLeft<0+i);g.Eroppos=(g.mouseLeft>(g.nzWidth-i-(g.options.lensBorderSize*2)))}if(g.options.zoomType==="inner"){g.Etoppos=(g.mouseTop<((g.nzHeight/2)/g.heightRatio));g.Eboppos=(g.mouseTop>(g.nzHeight-((g.nzHeight/2)/g.heightRatio)));g.Eloppos=(g.mouseLeft<0+(((g.nzWidth/2)/g.widthRatio)));g.Eroppos=(g.mouseLeft>(g.nzWidth-(g.nzWidth/2)/g.widthRatio-(g.options.lensBorderSize*2)))}if(g.mouseLeft<0||g.mouseTop<0||g.mouseLeft>g.nzWidth||g.mouseTop>g.nzHeight){g.setElements("hide");return}else{if(g.options.showLens){g.lensLeftPos=String(Math.floor(g.mouseLeft-g.zoomLens.width()/2));g.lensTopPos=String(Math.floor(g.mouseTop-g.zoomLens.height()/2))}if(g.Etoppos){g.lensTopPos=0}if(g.Eloppos){g.windowLeftPos=0;g.lensLeftPos=0;g.tintpos=0}if(g.options.zoomType==="window"){if(g.Eboppos){g.lensTopPos=Math.max((g.nzHeight)-g.zoomLens.height()-(g.options.lensBorderSize*2),0)}if(g.Eroppos){g.lensLeftPos=(g.nzWidth-(g.zoomLens.width())-(g.options.lensBorderSize*2))}}if(g.options.zoomType==="inner"){if(g.Eboppos){g.lensTopPos=Math.max(((g.nzHeight)-(g.options.lensBorderSize*2)),0)}if(g.Eroppos){g.lensLeftPos=(g.nzWidth-(g.nzWidth)-(g.options.lensBorderSize*2))}}if(g.options.zoomType==="lens"){g.windowLeftPos=String(((j.pageX-g.nzOffset.left)*g.widthRatio-g.zoomLens.width()/2)*(-1));g.windowTopPos=String(((j.pageY-g.nzOffset.top)*g.heightRatio-g.zoomLens.height()/2)*(-1));g.zoomLens.css("background-position",g.windowLeftPos+"px "+g.windowTopPos+"px");if(g.changeBgSize){if(g.nzHeight>g.nzWidth){if(g.options.zoomType==="lens"){g.zoomLens.css("background-size",g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px")}g.zoomWindow.css("background-size",g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px")}else{if(g.options.zoomType==="lens"){g.zoomLens.css("background-size",g.largeWidth/g.newvaluewidth+"px "+g.largeHeight/g.newvaluewidth+"px")}g.zoomWindow.css("background-size",g.largeWidth/g.newvaluewidth+"px "+g.largeHeight/g.newvaluewidth+"px")}g.changeBgSize=false}g.setWindowPosition(j)}if(g.options.tint&&g.options.zoomType!=="inner"){g.setTintPosition(j)}if(g.options.zoomType==="window"){g.setWindowPosition(j)}if(g.options.zoomType==="inner"){g.setWindowPosition(j)}if(g.options.showLens){if(g.fullwidth&&g.options.zoomType!=="lens"){g.lensLeftPos=0}g.zoomLens.css({left:g.lensLeftPos+"px",top:g.lensTopPos+"px"})}}},showHideZoomContainer:function(g){var f=this;if(g==="show"){if(f.zoomContainer){f.zoomContainer.show()}}if(g==="hide"){if(f.zoomContainer){f.zoomContainer.hide()}}},showHideWindow:function(g){var f=this;if(g==="show"){if(!f.isWindowActive&&f.zoomWindow){f.options.onShow(f);if(f.options.zoomWindowFadeIn){f.zoomWindow.stop(true,true,false).fadeIn(f.options.zoomWindowFadeIn)}else{f.zoomWindow.show()}f.isWindowActive=true}}if(g==="hide"){if(f.isWindowActive){if(f.options.zoomWindowFadeOut){f.zoomWindow.stop(true,true).fadeOut(f.options.zoomWindowFadeOut,function(){if(f.loop){clearInterval(f.loop);f.loop=false}})}else{f.zoomWindow.hide()}f.isWindowActive=false}}},showHideLens:function(g){var f=this;if(g==="show"){if(!f.isLensActive){if(f.zoomLens){if(f.options.lensFadeIn){f.zoomLens.stop(true,true,false).fadeIn(f.options.lensFadeIn)}else{f.zoomLens.show()}}f.isLensActive=true}}if(g==="hide"){if(f.isLensActive){if(f.zoomLens){if(f.options.lensFadeOut){f.zoomLens.stop(true,true).fadeOut(f.options.lensFadeOut)}else{f.zoomLens.hide()}}f.isLensActive=false}}},showHideTint:function(g){var f=this;if(g==="show"){if(!f.isTintActive&&f.zoomTint){if(f.options.zoomTintFadeIn){f.zoomTint.css("opacity",f.options.tintOpacity).animate().stop(true,true).fadeIn("slow")}else{f.zoomTint.css("opacity",f.options.tintOpacity).animate();f.zoomTint.show()}f.isTintActive=true}}if(g==="hide"){if(f.isTintActive){if(f.options.zoomTintFadeOut){f.zoomTint.stop(true,true).fadeOut(f.options.zoomTintFadeOut)}else{f.zoomTint.hide()}f.isTintActive=false}}},setLensPosition:function(f){},setWindowPosition:function(h){var g=this;if(!isNaN(g.options.zoomWindowPosition)){switch(g.options.zoomWindowPosition){case 1:g.windowOffsetTop=(g.options.zoomWindowOffsetY);g.windowOffsetLeft=(+g.nzWidth);break;case 2:if(g.options.zoomWindowHeight>g.nzHeight){g.windowOffsetTop=((g.options.zoomWindowHeight/2)-(g.nzHeight/2))*(-1);g.windowOffsetLeft=(g.nzWidth)}else{c.noop()}break;case 3:g.windowOffsetTop=(g.nzHeight-g.zoomWindow.height()-(g.options.borderSize*2));g.windowOffsetLeft=(g.nzWidth);break;case 4:g.windowOffsetTop=(g.nzHeight);g.windowOffsetLeft=(g.nzWidth);break;case 5:g.windowOffsetTop=(g.nzHeight);g.windowOffsetLeft=(g.nzWidth-g.zoomWindow.width()-(g.options.borderSize*2));break;case 6:if(g.options.zoomWindowHeight>g.nzHeight){g.windowOffsetTop=(g.nzHeight);g.windowOffsetLeft=((g.options.zoomWindowWidth/2)-(g.nzWidth/2)+(g.options.borderSize*2))*(-1)}else{c.noop()}break;case 7:g.windowOffsetTop=(g.nzHeight);g.windowOffsetLeft=0;break;case 8:g.windowOffsetTop=(g.nzHeight);g.windowOffsetLeft=(g.zoomWindow.width()+(g.options.borderSize*2))*(-1);break;case 9:g.windowOffsetTop=(g.nzHeight-g.zoomWindow.height()-(g.options.borderSize*2));g.windowOffsetLeft=(g.zoomWindow.width()+(g.options.borderSize*2))*(-1);break;case 10:if(g.options.zoomWindowHeight>g.nzHeight){g.windowOffsetTop=((g.options.zoomWindowHeight/2)-(g.nzHeight/2))*(-1);g.windowOffsetLeft=(g.zoomWindow.width()+(g.options.borderSize*2))*(-1)}else{c.noop()}break;case 11:g.windowOffsetTop=(g.options.zoomWindowOffsetY);g.windowOffsetLeft=(g.zoomWindow.width()+(g.options.borderSize*2))*(-1);break;case 12:g.windowOffsetTop=(g.zoomWindow.height()+(g.options.borderSize*2))*(-1);g.windowOffsetLeft=(g.zoomWindow.width()+(g.options.borderSize*2))*(-1);break;case 13:g.windowOffsetTop=(g.zoomWindow.height()+(g.options.borderSize*2))*(-1);g.windowOffsetLeft=(0);break;case 14:if(g.options.zoomWindowHeight>g.nzHeight){g.windowOffsetTop=(g.zoomWindow.height()+(g.options.borderSize*2))*(-1);g.windowOffsetLeft=((g.options.zoomWindowWidth/2)-(g.nzWidth/2)+(g.options.borderSize*2))*(-1)}else{c.noop()}break;case 15:g.windowOffsetTop=(g.zoomWindow.height()+(g.options.borderSize*2))*(-1);g.windowOffsetLeft=(g.nzWidth-g.zoomWindow.width()-(g.options.borderSize*2));break;case 16:g.windowOffsetTop=(g.zoomWindow.height()+(g.options.borderSize*2))*(-1);g.windowOffsetLeft=(g.nzWidth);break;default:g.windowOffsetTop=(g.options.zoomWindowOffsetY);g.windowOffsetLeft=(g.nzWidth)}}else{g.externalContainer=c(g.options.zoomWindowPosition);if(!g.externalContainer.length){g.externalContainer=c("#"+g.options.zoomWindowPosition)}g.externalContainerWidth=g.externalContainer.width();g.externalContainerHeight=g.externalContainer.height();g.externalContainerOffset=g.externalContainer.offset();g.windowOffsetTop=g.externalContainerOffset.top;g.windowOffsetLeft=g.externalContainerOffset.left}g.isWindowSet=true;g.windowOffsetTop=g.windowOffsetTop+g.options.zoomWindowOffsetY;g.windowOffsetLeft=g.windowOffsetLeft+g.options.zoomWindowOffsetX;g.zoomWindow.css({top:g.windowOffsetTop,left:g.windowOffsetLeft});if(g.options.zoomType==="inner"){g.zoomWindow.css({top:0,left:0})}g.windowLeftPos=String(((h.pageX-g.nzOffset.left)*g.widthRatio-g.zoomWindow.width()/2)*(-1));g.windowTopPos=String(((h.pageY-g.nzOffset.top)*g.heightRatio-g.zoomWindow.height()/2)*(-1));if(g.Etoppos){g.windowTopPos=0}if(g.Eloppos){g.windowLeftPos=0}if(g.Eboppos){g.windowTopPos=(g.largeHeight/g.currentZoomLevel-g.zoomWindow.height())*(-1)}if(g.Eroppos){g.windowLeftPos=((g.largeWidth/g.currentZoomLevel-g.zoomWindow.width())*(-1))}if(g.fullheight){g.windowTopPos=0}if(g.fullwidth){g.windowLeftPos=0}if(g.options.zoomType==="window"||g.options.zoomType==="inner"){if(g.zoomLock===1){if(g.widthRatio<=1){g.windowLeftPos=0}if(g.heightRatio<=1){g.windowTopPos=0}}if(g.options.zoomType==="window"){if(g.largeHeight<g.options.zoomWindowHeight){g.windowTopPos=0}if(g.largeWidth<g.options.zoomWindowWidth){g.windowLeftPos=0}}if(g.options.easing){if(!g.xp){g.xp=0}if(!g.yp){g.yp=0}var f=16;if(Number.isInteger(parseInt(g.options.easing))){f=parseInt(g.options.easing)}if(!g.loop){g.loop=setInterval(function(){g.xp+=(g.windowLeftPos-g.xp)/g.options.easingAmount;g.yp+=(g.windowTopPos-g.yp)/g.options.easingAmount;if(g.scrollingLock){clearInterval(g.loop);g.xp=g.windowLeftPos;g.yp=g.windowTopPos;g.xp=((h.pageX-g.nzOffset.left)*g.widthRatio-g.zoomWindow.width()/2)*(-1);g.yp=(((h.pageY-g.nzOffset.top)*g.heightRatio-g.zoomWindow.height()/2)*(-1));if(g.changeBgSize){if(g.nzHeight>g.nzWidth){if(g.options.zoomType==="lens"){g.zoomLens.css("background-size",g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px")}g.zoomWindow.css("background-size",g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px")}else{if(g.options.zoomType!=="lens"){g.zoomLens.css("background-size",g.largeWidth/g.newvaluewidth+"px "+g.largeHeight/g.newvalueheight+"px")}g.zoomWindow.css("background-size",g.largeWidth/g.newvaluewidth+"px "+g.largeHeight/g.newvaluewidth+"px")}g.changeBgSize=false}g.zoomWindow.css("background-position",g.windowLeftPos+"px "+g.windowTopPos+"px");g.scrollingLock=false;g.loop=false}else{if(Math.round(Math.abs(g.xp-g.windowLeftPos)+Math.abs(g.yp-g.windowTopPos))<1){clearInterval(g.loop);g.zoomWindow.css("background-position",g.windowLeftPos+"px "+g.windowTopPos+"px");g.loop=false}else{if(g.changeBgSize){if(g.nzHeight>g.nzWidth){if(g.options.zoomType==="lens"){g.zoomLens.css("background-size",g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px")}g.zoomWindow.css("background-size",g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px")}else{if(g.options.zoomType!=="lens"){g.zoomLens.css("background-size",g.largeWidth/g.newvaluewidth+"px "+g.largeHeight/g.newvaluewidth+"px")}g.zoomWindow.css("background-size",g.largeWidth/g.newvaluewidth+"px "+g.largeHeight/g.newvaluewidth+"px")}g.changeBgSize=false}g.zoomWindow.css("background-position",g.xp+"px "+g.yp+"px")}}},f)}}else{if(g.changeBgSize){if(g.nzHeight>g.nzWidth){if(g.options.zoomType==="lens"){g.zoomLens.css("background-size",g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px")}g.zoomWindow.css("background-size",g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px")}else{if(g.options.zoomType==="lens"){g.zoomLens.css("background-size",g.largeWidth/g.newvaluewidth+"px "+g.largeHeight/g.newvaluewidth+"px")}if((g.largeHeight/g.newvaluewidth)<g.options.zoomWindowHeight){g.zoomWindow.css("background-size",g.largeWidth/g.newvaluewidth+"px "+g.largeHeight/g.newvaluewidth+"px")}else{g.zoomWindow.css("background-size",g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px")}}g.changeBgSize=false}g.zoomWindow.css("background-position",g.windowLeftPos+"px "+g.windowTopPos+"px")}}},setTintPosition:function(i){var g=this;var h=g.zoomLens.width();var f=g.zoomLens.height();g.updateOffset(g);g.tintpos=String(((i.pageX-g.nzOffset.left)-(h/2))*(-1));g.tintposy=String(((i.pageY-g.nzOffset.top)-f/2)*(-1));if(g.Etoppos){g.tintposy=0}if(g.Eloppos){g.tintpos=0}if(g.Eboppos){g.tintposy=(g.nzHeight-f-(g.options.lensBorderSize*2))*(-1)}if(g.Eroppos){g.tintpos=((g.nzWidth-h-(g.options.lensBorderSize*2))*(-1))}if(g.options.tint){if(g.fullheight){g.tintposy=0}if(g.fullwidth){g.tintpos=0}g.zoomTintImage.css({left:g.tintpos+"px",top:g.tintposy+"px"})}},swaptheimage:function(i,h){var g=this;var j=new Image();if(g.options.loadingIcon&&!g.spinner){var f="background: url('"+g.options.loadingIcon+"') no-repeat center;height:"+g.nzHeight+"px;width:"+g.nzWidth+"px;z-index: 2000;position: absolute; background-position: center center;";if(g.options.zoomType==="inner"){f+="top: 0px;"}g.spinner=c('<div class="ezp-spinner" style="'+f+'"></div>');g.$elem.after(g.spinner)}else{if(g.spinner){g.spinner.show()}}g.options.onImageSwap(g.$elem);j.onload=function(){g.largeWidth=j.width;g.largeHeight=j.height;g.zoomImage=h;g.zoomWindow.css("background-size",g.largeWidth+"px "+g.largeHeight+"px");g.swapAction(i,h);return};g.setImageSource(j,h)},swapAction:function(s,p){var q=this;var i=q.$elem.width();var g=q.$elem.height();var o=new Image();o.onload=function(){q.nzHeight=o.height;q.nzWidth=o.width;q.options.onImageSwapComplete(q.$elem);q.doneCallback();return};q.setImageSource(o,s);q.currentZoomLevel=q.options.zoomLevel;q.options.maxZoomLevel=false;if(q.options.zoomType==="lens"){q.zoomLens.css("background-image",'url("'+p+'")')}if(q.options.zoomType==="window"){q.zoomWindow.css("background-image",'url("'+p+'")')}if(q.options.zoomType==="inner"){q.zoomWindow.css("background-image",'url("'+p+'")')}q.currentImage=p;if(q.options.imageCrossfade){var f=q.$elem;var j=f.clone();q.$elem.attr("src",s);q.$elem.after(j);j.stop(true).fadeOut(q.options.imageCrossfade,function(){c(this).remove()});q.$elem.width("auto").removeAttr("width");q.$elem.height("auto").removeAttr("height");f.fadeIn(q.options.imageCrossfade);if(q.options.tint&&q.options.zoomType!=="inner"){var r=q.zoomTintImage;var h=r.clone();q.zoomTintImage.attr("src",p);q.zoomTintImage.after(h);h.stop(true).fadeOut(q.options.imageCrossfade,function(){c(this).remove()});r.fadeIn(q.options.imageCrossfade);q.zoomTint.css({height:g,width:i})}q.zoomContainer.css({height:g,width:i});if(q.options.zoomType==="inner"){if(!q.options.constrainType){q.zoomWrap.parent().css({height:g,width:i});q.zoomWindow.css({height:g,width:i})}}if(q.options.imageCrossfade){q.zoomWrap.css({height:g,width:i})}}else{q.$elem.attr("src",s);if(q.options.tint){q.zoomTintImage.attr("src",p);q.zoomTintImage.attr("height",g);q.zoomTintImage.css("height",g);q.zoomTint.css("height",g)}q.zoomContainer.css({height:g,width:i});if(q.options.imageCrossfade){q.zoomWrap.css({height:g,width:i})}}if(q.options.constrainType){if(q.options.constrainType==="height"){var n={height:q.options.constrainSize,width:"auto"};q.zoomContainer.css(n);if(q.options.imageCrossfade){q.zoomWrap.css(n);q.constwidth=q.zoomWrap.width()}else{q.$elem.css(n);q.constwidth=i}var l={height:q.options.constrainSize,width:q.constwidth};if(q.options.zoomType==="inner"){q.zoomWrap.parent().css(l);q.zoomWindow.css(l)}if(q.options.tint){q.tintContainer.css(l);q.zoomTint.css(l);q.zoomTintImage.css(l)}}if(q.options.constrainType==="width"){var m={height:"auto",width:q.options.constrainSize};q.zoomContainer.css(m);if(q.options.imageCrossfade){q.zoomWrap.css(m);q.constheight=q.zoomWrap.height()}else{q.$elem.css(m);q.constheight=g}var k={height:q.constheight,width:q.options.constrainSize};if(q.options.zoomType==="inner"){q.zoomWrap.parent().css(k);q.zoomWindow.css(k)}if(q.options.tint){q.tintContainer.css(k);q.zoomTint.css(k);q.zoomTintImage.css(k)}}}},doneCallback:function(){var f=this;if(f.options.loadingIcon&&!!f.spinner&&!!f.spinner.length){f.spinner.hide()}f.updateOffset(f);f.nzWidth=f.$elem.width();f.nzHeight=f.$elem.height();f.currentZoomLevel=f.options.zoomLevel;f.widthRatio=f.largeWidth/f.nzWidth;f.heightRatio=f.largeHeight/f.nzHeight;if(f.options.zoomType==="window"){if(f.nzHeight<f.options.zoomWindowHeight/f.heightRatio){f.lensHeight=f.nzHeight}else{f.lensHeight=String((f.options.zoomWindowHeight/f.heightRatio))}if(f.nzWidth<f.options.zoomWindowWidth){f.lensWidth=f.nzWidth}else{f.lensWidth=(f.options.zoomWindowWidth/f.widthRatio)}if(f.zoomLens){f.zoomLens.css({width:f.lensWidth,height:f.lensHeight})}}},getCurrentImage:function(){var f=this;return f.zoomImage},getGalleryList:function(){var f=this;f.gallerylist=[];if(f.options.gallery){c("#"+f.options.gallery+" a").each(function(){var g="";if(c(this).data(f.options.attrImageZoomSrc)){g=c(this).data(f.options.attrImageZoomSrc)}else{if(c(this).data("image")){g=c(this).data("image")}}if(g===f.zoomImage){f.gallerylist.unshift({href:""+g+"",title:c(this).find("img").attr("title")})}else{f.gallerylist.push({href:""+g+"",title:c(this).find("img").attr("title")})}})}else{f.gallerylist.push({href:""+f.zoomImage+"",title:c(this).find("img").attr("title")})}return f.gallerylist},changeZoomLevel:function(j){var i=this;i.scrollingLock=true;i.newvalue=parseFloat(j).toFixed(2);var h=i.newvalue;var g=i.largeHeight/((i.options.zoomWindowHeight/i.nzHeight)*i.nzHeight);var k=i.largeWidth/((i.options.zoomWindowWidth/i.nzWidth)*i.nzWidth);if(i.options.zoomType!=="inner"){if(g<=h){i.heightRatio=(i.largeHeight/g)/i.nzHeight;i.newvalueheight=g;i.fullheight=true}else{i.heightRatio=(i.largeHeight/h)/i.nzHeight;i.newvalueheight=h;i.fullheight=false}if(k<=h){i.widthRatio=(i.largeWidth/k)/i.nzWidth;i.newvaluewidth=k;i.fullwidth=true}else{i.widthRatio=(i.largeWidth/h)/i.nzWidth;i.newvaluewidth=h;i.fullwidth=false}if(i.options.zoomType==="lens"){if(g<=h){i.fullwidth=true;i.newvaluewidth=g}else{i.widthRatio=(i.largeWidth/h)/i.nzWidth;i.newvaluewidth=h;i.fullwidth=false}}}if(i.options.zoomType==="inner"){g=parseFloat(i.largeHeight/i.nzHeight).toFixed(2);k=parseFloat(i.largeWidth/i.nzWidth).toFixed(2);if(h>g){h=g}if(h>k){h=k}if(g<=h){i.heightRatio=(i.largeHeight/h)/i.nzHeight;if(h>g){i.newvalueheight=g}else{i.newvalueheight=h}i.fullheight=true}else{i.heightRatio=(i.largeHeight/h)/i.nzHeight;if(h>g){i.newvalueheight=g}else{i.newvalueheight=h}i.fullheight=false}if(k<=h){i.widthRatio=(i.largeWidth/h)/i.nzWidth;if(h>k){i.newvaluewidth=k}else{i.newvaluewidth=h}i.fullwidth=true}else{i.widthRatio=(i.largeWidth/h)/i.nzWidth;i.newvaluewidth=h;i.fullwidth=false}}var f=false;if(i.options.zoomType==="inner"){if(i.nzWidth>=i.nzHeight){if(i.newvaluewidth<=k){f=true}else{f=false;i.fullheight=true;i.fullwidth=true}}if(i.nzHeight>i.nzWidth){if(i.newvaluewidth<=k){f=true}else{f=false;i.fullheight=true;i.fullwidth=true}}}if(i.options.zoomType!=="inner"){f=true}if(f){i.zoomLock=0;i.changeZoom=true;if(((i.options.zoomWindowHeight)/i.heightRatio)<=i.nzHeight){i.currentZoomLevel=i.newvalueheight;if(i.options.zoomType!=="lens"&&i.options.zoomType!=="inner"){i.changeBgSize=true;i.zoomLens.css("height",String(i.options.zoomWindowHeight/i.heightRatio)+"px")}if(i.options.zoomType==="lens"||i.options.zoomType==="inner"){i.changeBgSize=true}}if((i.options.zoomWindowWidth/i.widthRatio)<=i.nzWidth){if(i.options.zoomType!=="inner"){if(i.newvaluewidth>i.newvalueheight){i.currentZoomLevel=i.newvaluewidth}}if(i.options.zoomType!=="lens"&&i.options.zoomType!=="inner"){i.changeBgSize=true;i.zoomLens.css("width",String(i.options.zoomWindowWidth/i.widthRatio)+"px")}if(i.options.zoomType==="lens"||i.options.zoomType==="inner"){i.changeBgSize=true}}if(i.options.zoomType==="inner"){i.changeBgSize=true;if(i.nzWidth>i.nzHeight){i.currentZoomLevel=i.newvaluewidth}else{if(i.nzHeight>=i.nzWidth){i.currentZoomLevel=i.newvaluewidth}}}}i.setPosition(i.currentLoc)},closeAll:function(){var f=this;if(f.zoomWindow){f.zoomWindow.hide()}if(f.zoomLens){f.zoomLens.hide()}if(f.zoomTint){f.zoomTint.hide()}},updateOffset:function(f){if(f.options.zoomContainerAppendTo!="body"){f.nzOffset=f.$elem.offset();appendedPosition=c(f.options.zoomContainerAppendTo).offset();f.nzOffset.top=f.$elem.offset().top-appendedPosition.top;f.nzOffset.left=f.$elem.offset().left-appendedPosition.left}else{f.nzOffset=f.$elem.offset()}},changeState:function(g){var f=this;if(g==="enable"){f.options.zoomEnabled=true}if(g==="disable"){f.options.zoomEnabled=false}},responsiveConfig:function(f){if(f.respond&&f.respond.length>0){return c.extend({},f,this.configByScreenWidth(f))}return f},configByScreenWidth:function(g){var h=c(b).width();var f=c.grep(g.respond,function(j){var i=j.range.split("-");return(h>=i[0])&&(h<=i[1])});if(f.length>0){return f[0]}else{return g}}};c.fn.ezPlus=function(f){return this.each(function(){var g=Object.create(e);g.init(f,this);c.data(this,"ezPlus",g)})};c.fn.ezPlus.options={container:"ZoomContainer",attrImageZoomSrc:"zoom-image",borderColour:"#888",borderSize:4,constrainSize:false,constrainType:false,containLensZoom:false,cursor:"inherit",debug:false,easing:false,easingAmount:12,enabled:true,gallery:false,galleryActiveClass:"zoomGalleryActive",gallerySelector:false,galleryItem:"a",imageCrossfade:false,lensBorderColour:"#000",lensBorderSize:1,lensColour:"white",lensFadeIn:false,lensFadeOut:false,lensOpacity:0.4,lensShape:"square",lensSize:200,lenszoom:false,loadingIcon:false,mantainZoomAspectRatio:false,maxZoomLevel:false,minZoomLevel:1.01,onComplete:c.noop,onDestroy:c.noop,onImageClick:c.noop,onImageSwap:c.noop,onImageSwapComplete:c.noop,onShow:c.noop,onZoomedImageLoaded:c.noop,preloading:1,respond:[],responsive:true,scrollZoom:false,scrollZoomIncrement:0.1,showLens:true,tint:false,tintColour:"#333",tintOpacity:0.4,touchEnabled:true,zoomActivation:"hover",zoomContainerAppendTo:"body",zoomId:-1,zoomLevel:1,zoomTintFadeIn:false,zoomTintFadeOut:false,zoomType:"window",zoomWindowAlwaysShow:false,zoomWindowBgColour:"#fff",zoomWindowFadeIn:false,zoomWindowFadeOut:false,zoomWindowHeight:400,zoomWindowOffsetX:0,zoomWindowOffsetY:0,zoomWindowPosition:1,zoomWindowWidth:400,zoomEnabled:true,zIndex:999}})(jQuery,window,document);